# 登录功能开发文档

本文档描述登录模块的技术实现方案。

## 技术架构

登录系统采用JWT（JSON Web Token）实现身份认证。

## 核心代码

```python
def login(username: str, password: str) -> dict:
    """
    用户登录接口
    返回：包含access_token的字典
    """
    user = db.query(User).filter(User.username == username).first()
    if not user or not verify_password(password, user.hashed_password):
        raise AuthenticationError("用户名或密码错误")
    
    token = create_jwt_token(user.id)
    return {"access_token": token, "token_type": "bearer"}
```

## 数据库设计

用户表结构：
- id: 主键
- username: 用户名，唯一索引
- hashed_password: 密码哈希值
- created_at: 创建时间
- last_login: 最后登录时间

## 安全措施

- 密码使用bcrypt加密存储
- 登录失败次数限制
- JWT过期时间设置为24小时
