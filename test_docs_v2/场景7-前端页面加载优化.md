# 前端页面加载优化指南

网页打开太慢？按照本指南进行优化。

## 诊断问题

使用Chrome DevTools的Performance面板分析：
1. 按F12打开开发者工具
2. 切换到Performance标签
3. 点击录制按钮，刷新页面
4. 分析瀑布图找出瓶颈

## 优化方案

### 1. 资源压缩与合并

```javascript
// webpack配置压缩
module.exports = {
  optimization: {
    minimize: true,
    splitChunks: {
      chunks: 'all'
    }
  }
};
```

### 2. 图片优化

- 使用WebP格式（体积减少30-50%）
- 实现懒加载
```html
<img loading="lazy" src="image.webp" alt="...">
```

### 3. 代码分割

```javascript
// React动态导入
const HeavyComponent = React.lazy(() => import('./HeavyComponent'));
```

### 4. 启用CDN和缓存

```nginx
# Nginx配置静态资源缓存
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

### 5. 减少首屏渲染阻塞

- CSS放在head中
- JavaScript使用defer或async
- 内联关键CSS

## 性能指标目标

| 指标 | 目标值 |
|------|--------|
| FCP (First Contentful Paint) | < 1.8s |
| LCP (Largest Contentful Paint) | < 2.5s |
| TTI (Time to Interactive) | < 3.8s |

## 工具推荐

- Lighthouse：整体评分
- WebPageTest：详细分析
- GTmetrix：优化建议
